appId: app.mygrid.grid
---

# Start with fresh login
- runFlow: flows/login_testuser1.yaml

# Test: Accept a group invite from testuser2
# Prerequisite: testuser1 logged in on map screen, group invite created via API

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Give sync time to fetch the invite
- swipe:
    direction: DOWN
    duration: 500
- waitForAnimationToEnd

# Tap the notification bell
- tapOn:
    point: "90%,62%"
- waitForAnimationToEnd

# Verify Notifications modal opened
- assertVisible: "Notifications"

# Tap the first invite card (group invite)
- tapOn:
    point: "50%,28%"
- waitForAnimationToEnd

# Tap Join Group button (group invites show "Join Group", not "Accept Request")
- tapOn: "Join Group"
- waitForAnimationToEnd

# Close the notifications modal
- tapOn: "Close"
- waitForAnimationToEnd

# Verify back on map screen
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 15000
