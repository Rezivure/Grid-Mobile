appId: app.mygrid.grid
---
# Test: Create a group with testuser2
# Prerequisite: testuser1 logged in on map screen, testuser2 is a contact

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Tap the person-add icon to open Add Friend / Create Group modal
- tapOn:
    point: "60%,62%"
- waitForAnimationToEnd

# Switch to Create Group tab
- tapOn: "Create Group"
- waitForAnimationToEnd

# Enter group name
- tapOn:
    hint: "Enter group name"
- inputText: "TestSquad"
- waitForAnimationToEnd

# Add a member - type username
- tapOn:
    hint: "Add member"
- inputText: "testuser2"
- waitForAnimationToEnd

# Tap the add member button (+ icon next to the input)
- tapOn:
    point: "90%,50%"
- waitForAnimationToEnd

# Select duration - tap "1h" quick button
- tapOn: "1h"
- waitForAnimationToEnd

# Create the group
- tapOn: "Create Group"
- waitForAnimationToEnd

# Should return to map
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 15000
