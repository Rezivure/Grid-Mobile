appId: app.mygrid.grid
---
# Test: Create a group with testuser2
# Prerequisite: testuser1 logged in on map screen, testuser2 is a contact
# Group creation is a 4-step wizard: Name → Duration → Members → Summary

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Tap the person-add icon to open Add Friend / Create Group modal
- tapOn:
    point: "60%,62%"
- waitForAnimationToEnd

# Switch to Create Group tab
- tapOn: "Create Group"
- waitForAnimationToEnd

# Step 0: Enter group name
- tapOn: "Group Name"
- inputText: "TestSquad"
- waitForAnimationToEnd
- hideKeyboard
- waitForAnimationToEnd

# Advance to Step 1: Duration
- tapOn: "Next"
- waitForAnimationToEnd

# Step 1: Select duration - tap "24h" quick button
- tapOn: "24h"
- waitForAnimationToEnd

# Advance to Step 2: Members
- tapOn: "Next"
- waitForAnimationToEnd

# Step 2: Add a member
- tapOn: "Username"
- inputText: "testuser2"
- waitForAnimationToEnd

# Tap the Add Member button
- tapOn: "Add Member"
- waitForAnimationToEnd

# Advance to Step 3: Summary
- tapOn: "Next"
- waitForAnimationToEnd

# Step 3: Create the group
- tapOn: "Create Group"
- waitForAnimationToEnd

# Should return to map
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 15000
