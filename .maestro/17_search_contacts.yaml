appId: app.mygrid.grid
---
# Test: Search contacts by name
# Prerequisite: testuser1 logged in on map screen, has at least 1 contact (testuser2)

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Pull up the contacts drawer by swiping up from bottom
- swipe:
    start: "50%,95%"
    end: "50%,50%"
    duration: 500
- waitForAnimationToEnd

# Tap the Search Contacts field
- tapOn: "Search Contacts"
- waitForAnimationToEnd

# Type a search query
- inputText: "testuser2"
- waitForAnimationToEnd

# Clear the search
- tapOn:
    point: "90%,22%"
- waitForAnimationToEnd

# Dismiss keyboard
- hideKeyboard
- waitForAnimationToEnd

# Collapse the drawer by swiping down
- swipe:
    start: "50%,50%"
    end: "50%,95%"
    duration: 500
- waitForAnimationToEnd

# Verify back on map screen
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000
