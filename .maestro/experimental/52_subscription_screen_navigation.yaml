appId: app.mygrid.grid
---
# Test: Verify subscription screen navigation and display
# Prerequisite: testuser1 logged in on map screen (Grid homeserver, not custom)

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Navigate to settings
- tapOn:
    point: "16,100"
- waitForAnimationToEnd
- assertVisible: "Settings"

# Scroll through settings to find Subscriptions section
- swipe:
    start: "50%,70%"
    end: "50%,40%"
- waitForAnimationToEnd
- swipe:
    start: "50%,70%"
    end: "50%,40%"
- waitForAnimationToEnd

# Look for Subscriptions section (only visible on Grid homeserver)
- assertVisible: 
    text: "Subscriptions"
    optional: true

# Tap on Subscriptions if visible
- tapOn:
    text: "Subscriptions"
    optional: true
- waitForAnimationToEnd

# Verify subscription screen elements
- assertVisible:
    text: "Subscription"
    optional: true

# Look for subscription plan information
- assertVisible:
    text: "Plan"
    optional: true

- assertVisible:
    text: "Free"
    optional: true

# Check for upgrade options or subscription management
- assertVisible:
    text: "Upgrade"
    optional: true

# Look for subscription details
- assertVisible:
    text: "Features"
    optional: true

# Test scrolling in subscription screen
- swipe:
    start: "50%,70%"
    end: "50%,40%"
    optional: true
- waitForAnimationToEnd

# Navigate back to settings
- tapOn:
    point: "30,100"
    optional: true
- waitForAnimationToEnd

# Navigate back to map
- tapOn:
    point: "30,100"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Verify we're back on the main screen
- assertVisible: "My Contacts"