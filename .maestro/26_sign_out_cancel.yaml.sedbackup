appId: app.mygrid.grid
---

# Start with fresh login
- runFlow: flows/login_testuser1.yaml

# Test: Open sign out dialog and cancel â€” verify stays logged in
# Prerequisite: testuser1 logged in on map screen

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Navigate to settings
- tapOn:
    point: "16,100"
- waitForAnimationToEnd
- assertVisible: "Settings"

# Scroll to Account Actions
- swipe:
    direction: UP
    duration: 1000
- waitForAnimationToEnd
- swipe:
    direction: UP
    duration: 1000
- waitForAnimationToEnd
- swipe:
    direction: UP
    duration: 1000
- waitForAnimationToEnd

- assertVisible: "Account Actions"

# Tap Sign Out card
- tapOn:
    point: "50%,75%"
- waitForAnimationToEnd

# Dialog should show Cancel and Confirm Sign Out
- assertVisible: "Cancel"

# Tap Cancel
- tapOn: "Cancel"
- waitForAnimationToEnd

# Should still be on settings
- assertVisible: "Settings"

# Navigate back to map
- tapOn:
    point: "30,100"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000
