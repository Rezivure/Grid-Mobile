appId: app.mygrid.grid
---
# Test: Toggle incognito mode ON, verify visual indicator, toggle OFF
# Prerequisite: testuser1 logged in on map screen

- launchApp
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Navigate to settings
- tapOn:
    point: "16,100"
- waitForAnimationToEnd
- assertVisible: "Settings"
- assertVisible: "Incognito Mode"

# Toggle Incognito ON
- tapOn:
    point: "85%,55%"
- waitForAnimationToEnd

# Navigate back to map
- tapOn:
    point: "30,100"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000

# Go back to settings to verify toggle persisted
- tapOn:
    point: "16,100"
- waitForAnimationToEnd
- assertVisible: "Incognito Mode"

# Toggle Incognito OFF
- tapOn:
    point: "85%,55%"
- waitForAnimationToEnd

# Navigate back to map
- tapOn:
    point: "30,100"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "My Contacts"
    timeout: 10000
